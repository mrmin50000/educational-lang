## Учебный конфигурационный парсер

Инструмент командной строки для преобразования конфигураций на учебном языке в формат JSON.

---

## Quick start

```bash
# Запуск с файлом
python3 config_parser.py < config.txt

# Или через stdin
echo 'port = 8080; server: { port: #(port); };' | python3 main.py
```

Результат — валидный JSON на стандартном выводе.  
Ошибки — на `stderr`, код завершения `1`.

---

## Синтаксис языка

### 1. **Константы (объявления)**
```text
имя = значение
```
- Имя: `[a-z][a-z0-9_]*`
- Значение: число или словарь
- Точка с запятой `;` в конце **необязательна, но разрешена**

Пример:
```text
port = 8080;
max_workers = 16;
```

### 2. **Словари**
```text
{
  ключ : значение;
  ключ : значение;
  ...
}
```
- Каждая пара **обязательно** завершается `;`
- Значение может быть числом, словарём или подстановкой константы

Пример:
```text
server: {
  port: #(port);
  ssl: {
    enabled: 1;
    port: 443;
  };
};
```

### 3. **Числа**
```text
[+-]?([1-9][0-9]*|0)
```
Примеры: `0`, `42`, `-100`, `+256`

### 4. **Подстановка констант**
```text
#(имя)
```
Пример:
```text
port = 8080;
server: { port: #(port); };
```

### 5. **Комментарии**
Только многострочные:
```text
--[[
Это комментарий.
Он может занимать
несколько строк.
]]
```

---

## Обработка ошибок

Парсер выявляет:

- Неизвестные константы: `#(undefined)`
- Дублирование констант или ключей
- Неправильный синтаксис (пропущенные `:`, `;`, `{`, `}`)
- Неверные имена (не по шаблону `[a-z][a-z0-9_]*`)
- Недопустимые символы

Пример ошибки:
```text
Error: Undefined constant 'port' used at line 3
```

---

## Требования

- **Python 3.6+**
- Никаких внешних зависимостей — только стандартная библиотека
